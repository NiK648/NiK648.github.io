"use strict";(self.webpackChunkarc_frontend=self.webpackChunkarc_frontend||[]).push([[1597],{1597:(N,f,o)=>{o.r(f),o.d(f,{TradeModule:()=>j});var l=o(6814),v=o(2129),_=o(5219),e=o(4769),b=o(9862);let p=(()=>{class n{constructor(t){this.http=t}getTrades(){return this.http.get("assets/demo/data/trades.json")}static#e=this.\u0275fac=function(a){return new(a||n)(e.LFG(b.eN))};static#t=this.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T=o(9552),s=o(3722),u=o(707),r=o(95),h=o(4480),g=o(4104),x=o(6340),Z=o(3714),A=o(5167),M=o(1312);function y(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",18)(1,"button",19),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.openNew())}),e.qZA(),e.TgZ(2,"button",20),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteSelectedTrades())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedTrades||!t.selectedTrades.length)}}function S(n,m){if(1&n){const t=e.EpF();e._UZ(0,"p-fileUpload",21),e.TgZ(1,"button",22),e.NdJ("click",function(){e.CHM(t),e.oxw();const i=e.MAs(8);return e.KtG(i.exportCSV())}),e.qZA()}2&n&&e.Q6J("maxFileSize",1e6)}function D(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",23)(1,"h5",24),e._uU(2,"Manage Trades"),e.qZA(),e.TgZ(3,"span",25),e._UZ(4,"i",26),e.TgZ(5,"input",27),e.NdJ("input",function(i){e.CHM(t);const d=e.oxw(),c=e.MAs(8);return e.KtG(d.onGlobalFilter(c,i))}),e.qZA()()()}}function w(n,m){1&n&&(e.TgZ(0,"tr")(1,"th",28),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",29),e._uU(4," SL NO "),e._UZ(5,"p-sortIcon",30),e.qZA(),e.TgZ(6,"th",31),e._uU(7," Trade "),e._UZ(8,"p-sortIcon",32),e.qZA(),e.TgZ(9,"th",33),e._uU(10," Rate/Hrs. (AED) "),e._UZ(11,"p-sortIcon",34),e.qZA(),e.TgZ(12,"th",35),e._uU(13,"Action"),e.qZA()())}function U(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._UZ(2,"p-tableCheckbox",36),e.qZA(),e.TgZ(3,"td",37)(4,"span",38),e._uU(5,"SL NO"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td",37)(8,"span",38),e._uU(9,"Trade"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td",39)(12,"span",38),e._uU(13,"Rate/Hrs. (AED)"),e.qZA(),e._uU(14),e.ALo(15,"currency"),e.qZA(),e.TgZ(16,"td")(17,"div",40)(18,"button",41),e.NdJ("click",function(){const d=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.editTrade(d))}),e.qZA(),e.TgZ(19,"button",42),e.NdJ("click",function(){const d=e.CHM(t).$implicit,c=e.oxw();return e.KtG(c.deleteTrade(d))}),e.qZA()()()()}if(2&n){const t=m.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.slno," "),e.xp6(4),e.hij(" ",t.tradeName," "),e.xp6(4),e.hij(" ",e.xi3(15,4,t.rate,"AED ")," ")}}function J(n,m){1&n&&(e.TgZ(0,"small",51),e._uU(1,"Trade Name is required."),e.qZA())}const E=function(n){return{"ng-invalid ng-dirty":n}};function H(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"div",43)(1,"label",44),e._uU(2,"Trade"),e.qZA(),e.TgZ(3,"input",45),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.trade.tradeName=i)}),e.qZA(),e.YNc(4,J,2,0,"small",46),e.qZA(),e.TgZ(5,"div",47)(6,"div",48)(7,"label",49),e._uU(8,"Rate"),e.qZA(),e.TgZ(9,"p-inputNumber",50),e.NdJ("ngModelChange",function(i){e.CHM(t);const d=e.oxw();return e.KtG(d.trade.rate=i)}),e.qZA()()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.trade.tradeName)("ngClass",e.VKq(4,E,t.submitted&&!t.trade.tradeName)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.trade.tradeName),e.xp6(5),e.Q6J("ngModel",t.trade.rate)}}function I(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",52),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.hideDialog())}),e.qZA(),e.TgZ(1,"button",53),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.saveTrade())}),e.qZA()}}function R(n,m){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.trade.tradeName)}}function F(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteTradeDialog=!1)}),e.qZA(),e.TgZ(1,"button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmDelete())}),e.qZA()}}function k(n,m){if(1&n){const t=e.EpF();e.TgZ(0,"button",54),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.deleteTradesDialog=!1)}),e.qZA(),e.TgZ(1,"button",55),e.NdJ("click",function(){e.CHM(t);const i=e.oxw();return e.KtG(i.confirmDeleteSelected())}),e.qZA()}}const z=function(){return["slno","tradeName","rate"]},B=function(){return[10,20,30]},C=function(){return{width:"450px"}},O=[{path:"",component:(()=>{class n{constructor(t,a){this.tradeService=t,this.messageService=a,this.tradeDialog=!1,this.deleteTradeDialog=!1,this.deleteTradesDialog=!1,this.trades=[],this.trade={},this.selectedTrades=[],this.submitted=!1,this.cols=[],this.statuses=[],this.rowsPerPageOptions=[5,10,20]}ngOnInit(){this.tradeService.getTrades().subscribe(t=>this.trades=t),this.cols=[{field:"slno",header:"SL NO"},{field:"tradeName",header:"Trade"},{field:"rate",header:"Rate/Hrs. (AED)"}],this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}]}openNew(){this.trade={},this.submitted=!1,this.tradeDialog=!0}deleteSelectedTrades(){this.deleteTradesDialog=!0}editTrade(t){this.trade={...t},this.tradeDialog=!0}deleteTrade(t){this.deleteTradeDialog=!0,this.trade={...t}}confirmDeleteSelected(){this.deleteTradesDialog=!1,this.trades=this.trades.filter(t=>!this.selectedTrades.includes(t)),this.messageService.add({severity:"success",summary:"Successful",detail:"Trades Deleted",life:3e3}),this.selectedTrades=[]}confirmDelete(){this.deleteTradeDialog=!1,this.trades=this.trades.filter(t=>t.slno!==this.trade.slno),this.messageService.add({severity:"success",summary:"Successful",detail:"Trade Deleted",life:3e3}),this.trade={}}hideDialog(){this.tradeDialog=!1,this.submitted=!1}saveTrade(){this.submitted=!0,this.trade.tradeName?.trim()&&(this.trade.slno?(this.trades[this.findIndexById(this.trade.slno)]=this.trade,this.messageService.add({severity:"success",summary:"Successful",detail:"Trade Updated",life:3e3})):(this.trade.slno=this.createId(),this.trades.push(this.trade),this.messageService.add({severity:"success",summary:"Successful",detail:"Trade Created",life:3e3})),this.trades=[...this.trades],this.tradeDialog=!1,this.trade={})}findIndexById(t){let a=-1;for(let i=0;i<this.trades.length;i++)if(this.trades[i].slno===t){a=i;break}return a}createId(){return Math.max(...this.trades.map(t=>t.slno))+1}onGlobalFilter(t,a){t.filterGlobal(a.target.value,"contains")}static#e=this.\u0275fac=function(a){return new(a||n)(e.Y36(p),e.Y36(_.ez))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-trade"]],features:[e._Bn([_.ez])],decls:26,vars:27,consts:[[1,"grid"],[1,"col-12"],[1,"card","px-6","py-6"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","slno",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Trade Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept",".xls,.xlsx","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","slno",2,"width","30%"],["field","slno"],["pSortableColumn","tradeName",2,"width","30%"],["field","tradeName"],["pSortableColumn","rate",2,"width","30%"],["field","rate"],[2,"text-align","right"],[3,"value"],[2,"width","14%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","8rem"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"field"],["for","tradeName"],["type","text","pInputText","","id","tradeName","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],[1,"formgrid","grid"],[1,"field","col"],["for","rate"],["id","rate","mode","currency","currency","AED","locale","en-US",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"]],template:function(a,i){1&a&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,y,3,1,"ng-template",4),e.YNc(6,S,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(c){return i.selectedTrades=c}),e.YNc(9,D,6,0,"ng-template",8),e.YNc(10,w,14,0,"ng-template",9),e.YNc(11,U,20,7,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(c){return i.tradeDialog=c}),e.YNc(13,H,10,6,"ng-template",12),e.YNc(14,I,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(c){return i.deleteTradeDialog=c}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,R,5,1,"span",17),e.qZA(),e.YNc(19,F,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(c){return i.deleteTradesDialog=c}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected trades?"),e.qZA()(),e.YNc(25,k,2,0,"ng-template",13),e.qZA()()()),2&a&&(e.xp6(7),e.Q6J("value",i.trades)("columns",i.cols)("rows",10)("globalFilterFields",e.DdM(22,z))("paginator",!0)("rowsPerPageOptions",e.DdM(23,B))("showCurrentPageReport",!0)("selection",i.selectedTrades)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(24,C)),e.Q6J("visible",i.tradeDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(25,C)),e.Q6J("visible",i.deleteTradeDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",i.trade),e.xp6(2),e.Akn(e.DdM(26,C)),e.Q6J("visible",i.deleteTradesDialog)("modal",!0))},dependencies:[l.mk,l.O5,T.iA,_.jx,T.lQ,T.fz,T.UA,T.Mo,s.p,u.Hq,r.Fj,r.JJ,r.Q7,r.On,h.H,g.FN,x.o,Z.o,A.Rn,M.V,l.H9]})}return n})()}];let q=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[v.Bz.forChild(O),v.Bz]})}return n})();var K=o(3965),Y=o(6218),G=o(1865),P=o(6022);let j=(()=>{class n{static#e=this.\u0275fac=function(a){return new(a||n)};static#t=this.\u0275mod=e.oAB({type:n});static#n=this.\u0275inj=e.cJS({imports:[l.ez,T.U$,s.O,r.u5,u.hJ,h.T,g.EV,x.V,P.Xt,Z.j,Y.A,K.kW,G.cc,A.L$,M.S,q]})}return n})()},6218:(N,f,o)=>{o.d(f,{A:()=>b,g:()=>e});var l=o(4769),v=o(6814),_=o(95);let e=(()=>{class p{el;ngModel;control;cd;autoResize;onResize=new l.vpe;filled;cachedScrollHeight;ngModelSubscription;ngControlSubscription;constructor(s,u,r,h){this.el=s,this.ngModel=u,this.control=r,this.cd=h}ngOnInit(){this.ngModel&&(this.ngModelSubscription=this.ngModel.valueChanges.subscribe(()=>{this.updateState()})),this.control&&(this.ngControlSubscription=this.control.valueChanges.subscribe(()=>{this.updateState()}))}ngAfterViewInit(){this.autoResize&&this.resize(),this.updateFilledState(),this.cd.detectChanges()}onInput(s){this.updateState()}updateFilledState(){this.filled=this.el.nativeElement.value&&this.el.nativeElement.value.length}onFocus(s){this.autoResize&&this.resize(s)}onBlur(s){this.autoResize&&this.resize(s)}resize(s){this.el.nativeElement.style.height="auto",this.el.nativeElement.style.height=this.el.nativeElement.scrollHeight+"px",parseFloat(this.el.nativeElement.style.height)>=parseFloat(this.el.nativeElement.style.maxHeight)?(this.el.nativeElement.style.overflowY="scroll",this.el.nativeElement.style.height=this.el.nativeElement.style.maxHeight):this.el.nativeElement.style.overflow="hidden",this.onResize.emit(s||{})}updateState(){this.updateFilledState(),this.autoResize&&this.resize()}ngOnDestroy(){this.ngModelSubscription&&this.ngModelSubscription.unsubscribe(),this.ngControlSubscription&&this.ngControlSubscription.unsubscribe()}static \u0275fac=function(u){return new(u||p)(l.Y36(l.SBq),l.Y36(_.On,8),l.Y36(_.a5,8),l.Y36(l.sBO))};static \u0275dir=l.lG2({type:p,selectors:[["","pInputTextarea",""]],hostAttrs:[1,"p-inputtextarea","p-inputtext","p-component","p-element"],hostVars:4,hostBindings:function(u,r){1&u&&l.NdJ("input",function(g){return r.onInput(g)})("focus",function(g){return r.onFocus(g)})("blur",function(g){return r.onBlur(g)}),2&u&&l.ekj("p-filled",r.filled)("p-inputtextarea-resizable",r.autoResize)},inputs:{autoResize:"autoResize"},outputs:{onResize:"onResize"}})}return p})(),b=(()=>{class p{static \u0275fac=function(u){return new(u||p)};static \u0275mod=l.oAB({type:p});static \u0275inj=l.cJS({imports:[v.ez]})}return p})()}}]);