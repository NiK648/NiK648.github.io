"use strict";(self.webpackChunkarc_frontend=self.webpackChunkarc_frontend||[]).push([[5184],{1290:(J,_,l)=>{l.d(_,{y:()=>g});var a=l(4769),d=l(9862);let g=(()=>{class e{constructor(h){this.httpClient=h}getClients(){return this.httpClient.get("assets/demo/data/clients.json")}static#e=this.\u0275fac=function(f){return new(f||e)(a.LFG(d.eN))};static#t=this.\u0275prov=a.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})()},5184:(J,_,l)=>{l.r(_),l.d(_,{ProjectModule:()=>ie});var a=l(6814),d=l(5895),g=l(5219),e=l(4769),U=l(1864),h=l(1290),f=l(599),m=l(9552),C=l(3722),T=l(707),u=l(95),Z=l(4480),x=l(4104),v=l(6340),b=l(3714),P=l(6218),A=l(3965),M=l(1312),y=l(9663),N=l(6760);function w(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",20)(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.openNew())}),e.qZA(),e.TgZ(2,"button",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteSelectedProjects())}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedProjects||!t.selectedProjects.length)}}function S(n,s){if(1&n){const t=e.EpF();e._UZ(0,"p-fileUpload",23),e.TgZ(1,"button",24),e.NdJ("click",function(){e.CHM(t),e.oxw();const o=e.MAs(8);return e.KtG(o.exportCSV())}),e.qZA()}2&n&&e.Q6J("maxFileSize",1e6)}function k(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",25)(1,"h5",26),e._uU(2,"Manage Projects"),e.qZA(),e.TgZ(3,"span",27),e._UZ(4,"i",28),e.TgZ(5,"input",29),e.NdJ("input",function(o){e.CHM(t);const c=e.oxw(),r=e.MAs(8);return e.KtG(c.onGlobalFilter(r,o))}),e.qZA()()()}}function q(n,s){1&n&&(e.TgZ(0,"tr")(1,"th",30),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",31),e._uU(4," Id "),e._UZ(5,"p-sortIcon",32),e.qZA(),e.TgZ(6,"th",33),e._uU(7," Name "),e._UZ(8,"p-sortIcon",34),e.qZA(),e.TgZ(9,"th",35),e._uU(10," Client "),e._UZ(11,"p-sortIcon",36),e.qZA(),e.TgZ(12,"th",37),e._uU(13," Address "),e._UZ(14,"p-sortIcon",38),e.qZA(),e.TgZ(15,"th",39),e._uU(16," Description "),e._UZ(17,"p-sortIcon",40),e.qZA(),e.TgZ(18,"th",41),e._uU(19,"Action"),e.qZA()())}function I(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr",42),e.NdJ("click",function(){const c=e.CHM(t).$implicit,r=e.oxw();return e.KtG(r.onSelect(c))}),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",43),e.qZA(),e.TgZ(3,"td")(4,"span",44),e._uU(5,"Id"),e.qZA(),e._uU(6),e.qZA(),e.TgZ(7,"td")(8,"span",44),e._uU(9,"Name"),e.qZA(),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"span",44),e._uU(13,"Client"),e.qZA(),e._uU(14),e.qZA(),e.TgZ(15,"td")(16,"span",44),e._uU(17,"Address"),e.qZA(),e._uU(18),e.qZA(),e.TgZ(19,"td")(20,"span",44),e._uU(21,"Description"),e.qZA(),e.TgZ(22,"div",45),e._uU(23),e.qZA()(),e.TgZ(24,"td")(25,"div",46)(26,"button",47),e.NdJ("click",function(o){const r=e.CHM(t).$implicit,p=e.oxw();return o.stopPropagation(),e.KtG(p.openLogTime(r))}),e.qZA(),e.TgZ(27,"button",48),e.NdJ("click",function(o){const r=e.CHM(t).$implicit,p=e.oxw();return o.stopPropagation(),e.KtG(p.editProject(r))}),e.qZA(),e.TgZ(28,"button",49),e.NdJ("click",function(o){const r=e.CHM(t).$implicit,p=e.oxw();return o.stopPropagation(),e.KtG(p.deleteProject(r))}),e.qZA()()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Q6J("value",t),e.xp6(4),e.hij(" ",t.id," "),e.xp6(4),e.hij(" ",t.name," "),e.xp6(4),e.hij(" ",t.clientName," "),e.xp6(4),e.hij(" ",t.address," "),e.xp6(5),e.hij(" ",t.description," ")}}function K(n,s){1&n&&(e.TgZ(0,"small",60),e._uU(1,"Name is required."),e.qZA())}const F=function(n){return{"ng-invalid ng-dirty":n}};function H(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"div",50)(1,"label",51),e._uU(2,"Name"),e.qZA(),e.TgZ(3,"input",52),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.project.name=o)}),e.qZA(),e.YNc(4,K,2,0,"small",53),e.qZA(),e.TgZ(5,"div",50)(6,"label",54),e._uU(7,"Client"),e.qZA(),e.TgZ(8,"p-dropdown",55),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.project.clientId=o)}),e.qZA()(),e.TgZ(9,"div",50)(10,"label",56),e._uU(11,"Address"),e.qZA(),e.TgZ(12,"textarea",57),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.project.address=o)}),e.qZA()(),e.TgZ(13,"div",50)(14,"label",58),e._uU(15,"Description"),e.qZA(),e.TgZ(16,"textarea",59),e.NdJ("ngModelChange",function(o){e.CHM(t);const c=e.oxw();return e.KtG(c.project.description=o)}),e.qZA()()}if(2&n){const t=e.oxw();e.xp6(3),e.Q6J("ngModel",t.project.name)("ngClass",e.VKq(8,F,t.submitted&&!t.project.name)),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.project.name),e.xp6(4),e.Q6J("ngModel",t.project.clientId)("options",t.clients)("appendTo","body"),e.xp6(4),e.Q6J("ngModel",t.project.address),e.xp6(4),e.Q6J("ngModel",t.project.description)}}function G(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",61),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.hideDialog())}),e.qZA(),e.TgZ(1,"button",62),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveProject())}),e.qZA()}}function E(n,s){if(1&n&&(e.TgZ(0,"span"),e._uU(1,"Are you sure you want to delete "),e.TgZ(2,"b"),e._uU(3),e.qZA(),e._uU(4,"?"),e.qZA()),2&n){const t=e.oxw();e.xp6(3),e.Oqu(t.project.name)}}function Y(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProjectDialog=!1)}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDelete())}),e.qZA()}}function L(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",63),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.deleteProjectsDialog=!1)}),e.qZA(),e.TgZ(1,"button",64),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.confirmDeleteSelected())}),e.qZA()}}function B(n,s){1&n&&(e.TgZ(0,"tr")(1,"th"),e._uU(2,"Employee"),e.qZA(),e.TgZ(3,"th"),e._uU(4,"Date"),e.qZA(),e.TgZ(5,"th"),e._uU(6,"Time"),e.qZA()())}function O(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td")(4,"p-calendar",65),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.logDateObj=o)}),e.qZA()(),e.TgZ(5,"td")(6,"p-inputMask",66),e.NdJ("ngModelChange",function(o){const r=e.CHM(t).$implicit;return e.KtG(r.logTime=o)}),e.qZA()()()}if(2&n){const t=s.$implicit;e.xp6(2),e.Oqu(t.employeeName),e.xp6(2),e.Q6J("ngModel",t.logDateObj)("showIcon",!0),e.xp6(2),e.Q6J("ngModel",t.logTime)}}function Q(n,s){if(1&n){const t=e.EpF();e.TgZ(0,"button",67),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.saveTimeLog())}),e.qZA(),e.TgZ(1,"button",68),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.logTimeDialog=!1)}),e.qZA()}}const R=function(){return["name","country.name","representative.name","status"]},z=function(){return[10,20,30]},j=function(){return{width:"450px"}},$=function(){return{width:"90vw",height:"90vh"}},V=function(){return{width:"85vw"}};let W=(()=>{class n{constructor(t,i,o,c,r,p){this.projectService=t,this.clientService=i,this.messageService=o,this.timeLogService=c,this.router=r,this.route=p,this.projectDialog=!1,this.deleteProjectDialog=!1,this.deleteProjectsDialog=!1,this.projects=[],this.project={},this.selectedProjects=[],this.submitted=!1,this.cols=[],this.statuses=[],this.clients=[],this.rowsPerPageOptions=[5,10,20],this.logTimeDialog=!1,this.timeLogs=[],this.pTimeLogs=[]}ngOnInit(){this.clientService.getClients().subscribe(t=>{this.clients=t.map(i=>({label:i.name,value:i.id})),this.projectService.getProjects().subscribe(i=>{this.projects=i,this.projects.forEach(o=>{o.clientName=this.clients.find(c=>c.value===o.clientId)?.label})})}),this.cols=[{field:"project",header:"Project"},{field:"price",header:"Price"},{field:"category",header:"Category"},{field:"rating",header:"Reviews"},{field:"inventoryStatus",header:"Status"}],this.statuses=[{label:"INSTOCK",value:"instock"},{label:"LOWSTOCK",value:"lowstock"},{label:"OUTOFSTOCK",value:"outofstock"}],this.timeLogService.getTimeLogs().subscribe(t=>{this.timeLogs=t})}openNew(){this.project={},this.submitted=!1,this.projectDialog=!0}deleteSelectedProjects(){this.deleteProjectsDialog=!0}editProject(t){this.project={...t},this.projectDialog=!0}deleteProject(t){this.deleteProjectDialog=!0,this.project={...t}}confirmDeleteSelected(){this.deleteProjectsDialog=!1,this.projects=this.projects.filter(t=>!this.selectedProjects.includes(t)),this.messageService.add({severity:"success",summary:"Successful",detail:"Projects Deleted",life:3e3}),this.selectedProjects=[]}confirmDelete(){this.deleteProjectDialog=!1,this.projects=this.projects.filter(t=>t.id!==this.project.id),this.messageService.add({severity:"success",summary:"Successful",detail:"Project Deleted",life:3e3}),this.project={}}hideDialog(){this.projectDialog=!1,this.submitted=!1}saveProject(){this.submitted=!0,this.project.name?.trim()&&(this.project.id?(this.project.clientName=this.clients.find(t=>t.value===this.project.clientId)?.label,this.projects[this.findIndexById(this.project.id)]=this.project,this.messageService.add({severity:"success",summary:"Successful",detail:"Project Updated",life:3e3})):(this.project.id=this.createId(),this.project.clientName=this.clients.find(t=>t.value===this.project.clientId)?.label,this.projects.push(this.project),this.messageService.add({severity:"success",summary:"Successful",detail:"Project Created",life:3e3})),this.projects=[...this.projects],this.projectDialog=!1,this.project={})}findIndexById(t){let i=-1;for(let o=0;o<this.projects.length;o++)if(this.projects[o].id===t){i=o;break}return i}createId(){return Math.max(...this.projects.map(t=>t.id))+1}onGlobalFilter(t,i){t.filterGlobal(i.target.value,"contains")}onSelect(t){this.router.navigate([t.id,"employees"],{relativeTo:this.route})}openLogTime(t){this.pTimeLogs=this.timeLogs.filter(i=>i.projectId===t.id),this.logTimeDialog=!0}saveTimeLog(){this.logTimeDialog=!1}static#e=this.\u0275fac=function(i){return new(i||n)(e.Y36(U.Y),e.Y36(h.y),e.Y36(g.ez),e.Y36(f.z),e.Y36(d.F0),e.Y36(d.gz))};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-project"]],features:[e._Bn([g.ez])],decls:32,vars:36,consts:[[1,"grid"],[1,"col-12"],[1,"card","p-3"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["responsiveLayout","scroll","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} entries","selectionMode","multiple","dataKey","id",3,"value","columns","rows","globalFilterFields","paginator","rowsPerPageOptions","showCurrentPageReport","selection","rowHover","selectionChange"],["dt",""],["pTemplate","caption"],["pTemplate","header"],["pTemplate","body"],["header","Project Details",1,"p-fluid",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["header","Confirm",3,"visible","modal","visibleChange"],[1,"flex","align-items-center","justify-content-center"],[1,"pi","pi-exclamation-triangle","mr-3",2,"font-size","2rem"],[4,"ngIf"],["header","Log Time",3,"visible","modal","visibleChange"],["scrollHeight","67vh",3,"value","tableStyle","scrollable"],[1,"my-2"],["pButton","","pRipple","","label","New","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Delete","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["mode","basic","accept","image/*","label","Import","chooseLabel","Import",1,"mr-2","inline-block",3,"maxFileSize"],["pButton","","pRipple","","label","Export","icon","pi pi-upload",1,"p-button-help",3,"click"],[1,"flex","flex-column","md:flex-row","md:justify-content-between","md:align-items-center"],[1,"m-0"],[1,"block","mt-2","md:mt-0","p-input-icon-left"],[1,"pi","pi-search"],["pInputText","","type","text","placeholder","Search...",1,"w-full","sm:w-auto",3,"input"],[2,"width","3rem"],["pSortableColumn","id",2,"min-width","70px"],["field","id"],["pSortableColumn","name",2,"width","20%"],["field","name"],["pSortableColumn","clientId",2,"width","20%"],["field","clientId"],["pSortableColumn","address",2,"width","20%"],["field","address"],["pSortableColumn","description",2,"width","35%"],["field","description"],[2,"text-align","right"],[1,"cursor-pointer",3,"click"],[3,"value"],[1,"p-column-title"],[2,"max-width","150px","overflow","hidden","white-space","nowrap","text-overflow","ellipsis"],[1,"flex"],["pButton","","pRipple","","icon","pi pi-user-plus",1,"p-button-rounded","p-button-help","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button-rounded","p-button-success","mr-2",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button-rounded","p-button-warning",3,"click"],[1,"field"],["for","name"],["type","text","pInputText","","id","name","required","","autofocus","",3,"ngModel","ngClass","ngModelChange"],["class","ng-dirty ng-invalid",4,"ngIf"],["for","clientId"],["inputId","clientId","placeholder","Select Client",3,"ngModel","options","appendTo","ngModelChange"],["for","address"],["id","address","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],["for","description"],["id","description","pInputTextarea","","required","","rows","3","cols","20",3,"ngModel","ngModelChange"],[1,"ng-dirty","ng-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"p-button-text",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","No",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-check","label","Yes",1,"p-button-text",3,"click"],[3,"ngModel","showIcon","ngModelChange"],["mask","99h",3,"ngModel","ngModelChange"],["pButton","","pRipple","","icon","pi pi-check","label","Save",1,"p-button-text",3,"click"],["pButton","","pRipple","","icon","pi pi-times","label","Cancel",1,"p-button-text",3,"click"]],template:function(i,o){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"p-toast"),e.TgZ(4,"p-toolbar",3),e.YNc(5,w,3,1,"ng-template",4),e.YNc(6,S,2,1,"ng-template",5),e.qZA(),e.TgZ(7,"p-table",6,7),e.NdJ("selectionChange",function(r){return o.selectedProjects=r}),e.YNc(9,k,6,0,"ng-template",8),e.YNc(10,q,20,0,"ng-template",9),e.YNc(11,I,29,6,"ng-template",10),e.qZA()(),e.TgZ(12,"p-dialog",11),e.NdJ("visibleChange",function(r){return o.projectDialog=r}),e.YNc(13,H,17,10,"ng-template",12),e.YNc(14,G,2,0,"ng-template",13),e.qZA(),e.TgZ(15,"p-dialog",14),e.NdJ("visibleChange",function(r){return o.deleteProjectDialog=r}),e.TgZ(16,"div",15),e._UZ(17,"i",16),e.YNc(18,E,5,1,"span",17),e.qZA(),e.YNc(19,Y,2,0,"ng-template",13),e.qZA(),e.TgZ(20,"p-dialog",14),e.NdJ("visibleChange",function(r){return o.deleteProjectsDialog=r}),e.TgZ(21,"div",15),e._UZ(22,"i",16),e.TgZ(23,"span"),e._uU(24,"Are you sure you want to delete selected projects?"),e.qZA()(),e.YNc(25,L,2,0,"ng-template",13),e.qZA(),e.TgZ(26,"p-dialog",18),e.NdJ("visibleChange",function(r){return o.logTimeDialog=r}),e.TgZ(27,"div",15)(28,"p-table",19),e.YNc(29,B,7,0,"ng-template",9),e.YNc(30,O,7,4,"ng-template",10),e.qZA()(),e.YNc(31,Q,2,0,"ng-template",13),e.qZA()()()),2&i&&(e.xp6(7),e.Q6J("value",o.projects)("columns",o.cols)("rows",10)("globalFilterFields",e.DdM(29,R))("paginator",!0)("rowsPerPageOptions",e.DdM(30,z))("showCurrentPageReport",!0)("selection",o.selectedProjects)("rowHover",!0),e.xp6(5),e.Akn(e.DdM(31,j)),e.Q6J("visible",o.projectDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(32,j)),e.Q6J("visible",o.deleteProjectDialog)("modal",!0),e.xp6(3),e.Q6J("ngIf",o.project),e.xp6(2),e.Akn(e.DdM(33,j)),e.Q6J("visible",o.deleteProjectsDialog)("modal",!0),e.xp6(6),e.Akn(e.DdM(34,$)),e.Q6J("visible",o.logTimeDialog)("modal",!0),e.xp6(2),e.Q6J("value",o.pTimeLogs)("tableStyle",e.DdM(35,V))("scrollable",!0))},dependencies:[a.mk,a.O5,m.iA,g.jx,m.lQ,m.fz,m.UA,m.Mo,C.p,T.Hq,u.Fj,u.JJ,u.Q7,u.On,Z.H,x.FN,v.o,b.o,P.g,A.Lt,M.V,y.vy,N.f]})}return n})();var D=l(3422);const X=[{path:"",component:W},{path:":id/employees",component:(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=e.Xpm({type:n,selectors:[["app-project-employees"]],decls:1,vars:1,consts:[[3,"type"]],template:function(i,o){1&i&&e._UZ(0,"app-assigned-employees",0),2&i&&e.Q6J("type","project")},dependencies:[D.c]})}return n})()}];let ee=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[d.Bz.forChild(X),d.Bz]})}return n})();var te=l(5167),oe=l(1865),ne=l(6022);let ie=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=e.oAB({type:n});static#o=this.\u0275inj=e.cJS({imports:[a.ez,m.U$,C.O,u.u5,T.hJ,Z.T,x.EV,v.V,ne.Xt,b.j,P.A,A.kW,oe.cc,te.L$,M.S,y.zz,N._8,ee,D.c]})}return n})()}}]);